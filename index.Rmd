---
title: "Netflix"
author: "Kauila, Deven, and Mahathi"
date: "11/30/2021"
output:
  rmdformats::robobook:
    thumbnails: false
    highlight: "kate"
    self_contained: false

---

```{r setup, include = FALSE}
# Load packages
library(tidyverse)
library(tidytext)
library(wordcloud)
library(textdata)
library(sf)
library(viridis)
library(plotly)
library(ggnetwork)
library(igraph)

# Set code chunk defaults 
knitr::opts_chunk$set(echo = FALSE, 
                      mesage = FALSE,
                      warning = FALSE,
                      fig.align = "center")

# Set R environment options
options(knitr.kable.NA = '')
```

# Introduction

```{r, fig.cap = "The Rise of Netflix's Stock Price"}
# Add image
knitr::include_graphics("https://media.giphy.com/media/vYHSRSor0Kaje/giphy.gif")
```

## Motivation: What is Intriguing about Netflix?

```{r, fig.cap = "Netflix's Transformation from DVDs to Streaming"}
# Add image
knitr::include_graphics("https://s3-prod.adage.com/s3fs-public/styles/800x600/public/20211001_netflixDreams_3x2_0.jpg")
```

Entertainment plays an important role in every human society, across time periods and across geographical locations. From the micro to the macro level, each individual is trying to find a new and better way to keep themselves engaged. One of the most prominent forms of entertainment in our recent history is cinema, a multifaceted tool for both those seeking intellectual stimulation and those hoping to unwind and power down. In the past few decades, we have observed a gradual transition from going to the theaters and home video to on-demand through streaming platforms. The rise of such platforms, namely Netflix, may be attributed to tangibles such as consumer preferences, ease of access, and an enormous increase in selection. A consequence of this occurrence, however, is a rise in global connections through entertainment. Viewers now have access to a plethora of titles in various languages right at their fingertips, and the travelling of ideas across cultures, languages, and thought processes has never been easier. We aim to explore just how widespread a reach Netflix has by looking at its global distribution, emotional nuances depicted in films, and connections between artists that have worked in Netflix films. This exciting period in human history suggests promising growth and new understanding; however, it carries with it the possibility of broadcasting charged information or narratives. It is therefore our responsibility to study this tool and all its abilities in order to promote positive development. 

## Background: What is Netflix?

```{r, fig.cap = "Netflix's Content Library"}
# Add image
knitr::include_graphics("https://cdn.tmobile.com/content/dam/t-mobile/ntm/specific-use/netflix/bg/619306-bg-full-netflix-grid-v2.desktop.jpg")
```

This project is about different aspects of big streaming services; the main focus is on Netflix, but we also compare movie ratings between Netflix, Disney+, Hulu, and Amazon Prime Video. For those unfamiliar with the platform, Netflix is a subscription-based streaming service (https://help.netflix.com/en/node/412). Users, choosing from a range of subscriptions options (basic, standard, or premium), pay a fee ($8.99, $13.99, or $17.99) once a month and are able to watch a wide range of award-winning movies, anime, documentaries, and TV shows. The content is streamed in more than 30 languages in about 190 countries (​​https://about.netflix.com/en). A major benefit to Netflix is that all of the content is advertisement-free. Netflix is the largest streaming platform to date with over 210 million subscribers. Hulu, Disney+, and Prime Video are very similar to Netflix; the only difference is the content. Streaming services these past few years, with theaters closed and families staying home, experienced a massive influx of users during the pandemic. Commercial films that were to be released in theaters were instead released on these various streaming platforms where families could watch new releases in the comfort and safety of their homes. 

Our group wanted each visualization to tell a different story. Our geographical representation displayed Netflix subscriber statistics per country as well as how many films were made in each country. Our network connected both actors with other actors, and actors with directors. We can clearly see the top actors and the top interactions based on the weight of the nodes and the thickness of the edges. Next, looking at which keywords were the most apparent in Netflix descriptions, our word cloud, where the size of the words are correlated with the number of times they appear in all descriptions, accompanied by a simple graph of the top 10 words provides a riveting insight into the types of shows people are most passionate about. Finally, our shiny app compares and contrasts information across popular streaming platforms. Our table allows for easily customized searches by ranges of release years and movie ratings, while our bar chart compares average ratings, across platforms, for each genre. 


## Data Description

In order to answer our questions of interest, our data has detailed statistics and information relating to video streaming platforms, primarily Netflix, and shows/movies on these platforms. The data was collected from multiple sources, including two datasets from Kaggle, a table from Comparitech, and multiple datasets from Google Trends. 

```{r}
# Add image
knitr::include_graphics("http://www.endtoend.ai/assets/blog/tutorial/kaggle-dataset-ubuntu/kaggle.png")
```
 
* Kaggle is an online data science community that has open datasets for public use. The first [Kaggle dataset](https://www.kaggle.com/shivamb/netflix-shows) is in a fairly clean `.csv` file compiled by Shivam Bansal, a data science professional, displaying details about nearly 9,000 shows/movies added to Netflix from 2014 to 2021. Some of the information included are the show/movie’s location of filming, actors, directors, date added to Netflix, and description. 
 
* The second [Kaggle dataset](https://www.kaggle.com/ruchi798/movies-on-netflix-prime-video-hulu-and-disney) used is a `.csv` file compiled by Ruchi Bhatia, a data scientist, display information about the Rotten Tomatoes and IMDb Ratings of just over 9,500 shows/movies on Netflix, Disney+, Amazon Prime Video, and Hulu released from 1914 to 2021. The Rotten Tomatoes score is determined by film critics while anyone can submit an IMDb Rating, so it is largely determined by fans and/or anti-fans of shows/movies. 

```{r}
# Add image
knitr::include_graphics("https://cdn.comparitech.com/wp-content/themes/comparitech-2018/img/logo.png")
```

* Comparitech is site dedicated to technology research, and one of its [articles](https://www.comparitech.com/tv-streaming/netflix-subscribers/) has a table of Netflix revenue and subscribers by country for 2021. We copied this table into Microsoft Excel and converted it to a `.csv` file in order to use it for our visualizations. 

```{r}
# Add image
knitr::include_graphics("https://miro.medium.com/max/821/1*Fi6masemXJT3Q8YWekQCDQ.png")
```

* [Google trends](https://trends.google.com/trends/?geo=US) collects data on the popularity of search queries on Google by location in a given time period. We used Google trends to get multiple datasets on popularity scores for the most popular Netflix Original shows (Money Heist, Stranger Things, Bridgerton, 13 Reasons Why, and Squid Game) by country since their debut. Google calculates a search query’s popularity score by country “on a scale from 0 to 100, where 100 is the location with the most popularity as a fraction of total searches in that location.” 


```{r map extra wrangling, include = FALSE}
## Quick extra wrangling for map data that could not be done in wrangling file##

# Read in main datasets
netflix_map_by_country <- read_csv(file = 'netflix_map_by_country.csv')
netflix_subs_map <- read_csv(file = 'netflix_subs_map.csv')
most_popular_show <- read_csv(file = 'most_popular_show_map.csv')

# load in world map data
world_map <- maps::map("world", plot = FALSE, fill = TRUE) %>% 
  st_as_sf()

# Make the IDs lowercase to match other dataset
world_map$ID <- tolower(world_map$ID)

# join world map and movies/shows by country datasets
netflix_map_shows <- world_map %>%
  inner_join(netflix_map_by_country, by = "ID")

# rename ID and number_of_viewers
netflix_map_shows <- netflix_map_shows %>%
  rename(Country = ID, Amount_of_Content =  number_of_films)

# Join world map and subs/revenue datasets
netflix_subs_map <- world_map %>%
  inner_join(netflix_subs_map, by = "ID")

# rename ID
netflix_subs_map <- netflix_subs_map %>%
  rename(Country = ID)

# Join world map and popular show datasets
netflix_popular_show_map <- world_map %>%
  inner_join(most_popular_show, by = "ID")

# rename ID
netflix_popular_show_map <- netflix_popular_show_map %>%
  rename(Country = ID)
```

# Maps {.tabset .tabset-fade .tabset-pills}

*Procedure:*

The purposes of the map visualizations were to showcase the countries where Netflix has the most subscribers, the countries where the most Netflix content has been filmed, and the most popular shows in different countries. Viewers can compare the maps of Netflix subscribers and locations of filming for Netflix content as well to determine if there is some correlation between where Netflix shows/movies are filmed and its subscriber base. 

To create the maps, we performed data wrangling on the Kaggle dataset of Netflix only titles, the Comparitech table, and the Google Trends datasets.

## Content Filming Locations

We used the Kaggle dataset to create the map of the amount of Netflix content filmed in each country by grouping the titles by country and joining that dataset to a world map dataset containing the coordinates of each country. In the main visualization, there is a hover feature that allows users to identify countries on the map and how much content was filmed in them, and viewers can zoom into the map to more closely examine specific continents or regions; we used the `plotly` package to achieve these features. The map is also color coded with a gradient based on how much content a country had filmed in it compared to other countries (countries with a white fill had no content). 

```{r, eval = FALSE, echo = TRUE}
# If movies have multiple countries, make a new row for each country
netflix_map <- netflix_shows %>%
  unnest_tokens(output = country, input = country, token = "regex", 
                pattern = c(", ",","))
```

```{r map1, fig.width = 7.5}
# Map of Netflix Shows/Films by Country
ggplotly(ggplot() +
  # Get world map layer
  geom_sf(data = world_map, fill = "white") +
  # Get Netflix amount of content by location layer
  geom_sf(data = netflix_map_shows, 
          aes(fill = Amount_of_Content, label = Country)) +
  # Set color scale
  scale_fill_viridis(option = "viridis", direction = -1) +
  theme_void() +
  # Rename Legend Title
  labs(fill = "Films/Shows") +
  # Aesthetic changes to legend width, background color of map, and map size
  theme(legend.key.width = unit(.5,"cm"), 
        panel.background = element_rect(fill = "aliceblue"))+ 
  coord_sf(xlim = c(-180, 190), expand = FALSE), 
  height = 450) %>%
  # Add in title
  layout(title = list(text = paste0('<br>',
                                    'Locations of Filming for Netflix Content',
                                    '<br>',
                                    '<sup>',
                                    'Added From 2014 to 2021',
                                    '</sup>'), 
                      xref = "paper", xanchor = "center"))
```

*Findings:*

From this map, it is evident that a significant amount of the content on Netflix is filmed in the United States, which is where Netflix’s headquarters is located; specifically, nearly 3,700 shows and movies were filmed in the U.S. However, Netflix does appear to have a lot of content filmed in locations across the World, in six of the seven continents, as it expands its international presence. For example, 1,046 shows/movies were filmed in India, 806 in the United Kingdom, 160 in Australia, 117 in Egypt, and 97 in Brazil. Netflix’s pursuit of global domination in the streaming battles should lead to it acquiring and making even more films/movies produced abroad in the future.

*Limitations:*

This map could use more context, as it is unclear whether having 3,700 shows and movies produced in the U.S. is a significant number of a small number compared to the overall number of movies produced in the U.S. from 2013 to 2017. In the future, representing the amount of content on Netflix by location of production as a percent of total content produced in that location in a given time period would be interesting to examine.

## Subscribers

We used the Comparitech table, converted to a `.csv` dataset, to create the map of number of Netflix subscribers in each country by joining it to a world map dataset containing the coordinates of each country. In the main visualization, there is a hover feature that allows users to identify countries on the map and how many Netflix subscribers they have, and viewers can zoom into the map to more closely examine specific continents or regions; we used the `plotly` package to achieve these features. The map is also color coded with a gradient based on how many subscribers a country has compared to other countries (countries with a white fill had no subscriber numbers reported).

```{r map2, fig.width = 7.5}
# Map of Netflix Subscribers by Country
ggplotly(ggplot() +
  # Get world map layer
  geom_sf(data = world_map, fill = "white") + 
  # Get Netflix subscribers map layer
  geom_sf(data = netflix_subs_map, aes(fill = Number_of_Subscribers, 
                                       label = Country)) +
  # Set color scale
  scale_fill_viridis(option = "viridis", direction = -1) +
  theme_void() +
  # Set legend title
  labs(fill = "Subscribers") +
  # Aesthetic changes to legend width, background color of map, and map size
  theme(legend.key.width = unit(.5,"cm"), 
        panel.background = element_rect(fill = "aliceblue")) + 
  coord_sf(xlim = c(-180, 190), expand = FALSE), 
  height = 450) %>%
  # Add in title
  layout(title = list(text = paste0('<br>',
                                    'Netflix Subscribers',
                                    '<br>',
                                    '<sup>',
                                    'As of Q2 2021; In Thousands of People',
                                    '</sup>'), 
                      xref = "paper", xanchor = "center"))
```

*Findings:*

From this map, we see that the United States has the most Netflix subscribers with more than 67 million subscribers as of Q2 2021. This makes sense given that the majority of Netflix’s content is produced in the United States as seen in the previous map. Similar to the locations of content map, Netflix has tens of millions of subscribers across the globe, in six of the seven continents. For example, Netflix has ~18 million subscribers in Brazil, ~13 million in the United Kingdom, ~6.5 million in Australia, ~5 million in India, and ~350 thousand in South Africa. It seems that there is some correlation between Netflix subscribers and countries where content was produced; many countries are colored similarly in both maps. This makes sense given that people would want to watch content that is filmed where they live and might have their language. Interestingly, Brazil has a massive number of Netflix subscribers despite a lack of content produced there. In addition, China is white in the Netflix subscribers map even though a decent amount of content is produced there because Netflix has decided not to invest in promoting its platform there due to strong competition. Africa is also largely white because it is still developing, and many of its nations likely do not have enough subscribers for Netflix to report them. Overall, Netflix has clearly been successful in expanding its international subscriber base, and as it produces more content abroad, more people should subscribe.

*Limitations:*

For the Netflix subscribers map, there are only around 50 countries represented. However, Netflix is available for streaming in over 190 countries, so there are clearly more subscriber numbers out there for the other 140 countries that could be added to the map. Whether that data is publicly available somewhere is unlikely, but, without that data, the map is incomplete and does not represent all of Netflix’s subscribers. It would also be interesting to see the growth of Netflix subscribers over time in different countries to see where Netflix is expanding the most; this data could likely be scraped from different sources and reports, but it would be an intensive process. Regarding the apparent association between this subscribers map and the content location map, we would need to conduct statistical tests/regressions with more data in order to determine if there is actually a correlation between location of content and subscriber growth and if there might even be some causal effect.

## Show Popularity

We used the Google Trends datasets for some of Netflix’s most popular shows to create the map of most popular Netflix shows in each country by joining them into one dataset, which we then joined to a world map dataset containing the coordinates of each country. In the main visualization, there is a hover feature that allows users to identify countries on the map, the most popular Netflix show in each country, and the popularity scores for all of the specified shows in each country. Viewers can also zoom into the map to more closely examine specific continents or regions; we used the `plotly` package to achieve these features. The map is also color coded based on which show is most popular in each country (countries with a white fill had data on popularity for any of the shows).

```{r, eval = FALSE, echo = TRUE}
# Get most popular show for each country
most_popular_show <- shows_popularity_master_long %>% 
  group_by(ID) %>% 
  top_n(1, PopularityScore) %>%
  slice(which.max(PopularityScore))
```

```{r map3, fig.width = 7.5}
# Map of Netflix Show Popularity by Country
ggplotly(ggplot() +
  # Get world map layer
  geom_sf(data = world_map, fill = "white") +
  # Get Netflix shows map layer
  geom_sf(data = netflix_popular_show_map, aes(fill = Most_Popular_Show, 
                                               label= Country,
                                               label2 = Bridgerton, 
                                               label3 = SquidGame,
                                               label4 = MoneyHeist,
                                               label5 = StrangerThings,
                                               label6 = ThirteenReasonsWhy)) + 
  theme_void() +
  # Set legend title
  labs(fill = "Show") +
  # Aesthetic changes to legend width, background color of map, and map size
  theme(panel.background = element_rect(fill = "aliceblue")) + 
  coord_sf(xlim = c(-180, 190), expand = FALSE), 
  height = 450) %>%
  # Add in title
  layout(title = list(
    text = paste0('<br>',
                  'Netflix Show Popularity',
                  '<br>',
                  '<sup>',
                  'Since the Debut of Each Show; Score from Google Trends',
                  '</sup>'), xref = "paper", xanchor = "center"))
```

*Findings:*

From this map, we see that no one show appears to dominate. In the Americas, Stranger Things, which is set in a suburban town in the United States, appears to be the most popular show. Similarly, in Europe, Stranger Things appears to be the most popular show, but Thirteen Reasons Why is also quite popular. In Africa, Money Heist is the most popular show. In Asia, Squid Game, which is set in South Korea, is the most popular show. In Australia, Thirteen Reasons Why is the most popular show; this makes sense given that the main actress in the first season is Australian. The popularity of different Netflix shows across the World demonstrates Netflix’s staying power, as it has content for many diverse peoples and cultures. 

*Limitations:*

For this map, the popularity scores are based solely on people searching Stranger Things or Money Heist precisely as of now. We would need to have broader and more inclusive search terms in order to get a true sense of their popularity in a given country. For example, Spaniards are likely searching La Casa de Papel, which is Money Heist in Spanish, so lumping Money Heist and La Casa de Papel would give a more accurate representation of Money Heist’s popularity in Spain. This example is likely applicable for shows in many different countries. This would involve a significant amount of data analysis and strong knowledge of using Google Trends, but the findings would be incredibly interesting. The number of viewers for each Netflix show by country would be a better measure of popularity, but this data does not appear to be publicly available data.

# Shiny App

*Procedure:*

The purpose of the bar chart was to determine which streaming platform a person should use based on the genre of the show/movie they prefer. We wrangled the Kaggle dataset containing rating information of shows/movies on multiple streaming platforms in order to achieve this. We grouped the show/movie titles by genre and platform and then determined the average IMDb score for each genre on each platform. There is a hover feature that allows users to see the exact average IMDb score of each platform for a given genre, and users can toggle between all of the genres using the dropdown menu.

```{r, eval = FALSE, echo = TRUE}
# Get average IMDb rating for each platform by genre
platforms_all_genre_rating <- platforms_all_genre %>%
  na.omit(platforms_all_genre$IMDb, platforms_all_genre$Genres) %>%
  group_by(Service, Genres) %>%
  summarise_at(vars(IMDb), list(IMDb = mean))
```


```{r, out.extra="data-external=1", fig.height = 5, fig.width = 7.5}
# Embed shiny app
knitr::include_app("https://devendesai.shinyapps.io/blog_shiny-sea-turtles/", 
                   height = "600px")
```

<iframe height="500" width="100%" frameborder="no" 
src="https://devendesai.shinyapps.io/blog_shiny-sea-turtles/"> </iframe>

## Bar Chart

*Findings:*

From the bar chart, it appears that Disney+ is the best streaming platform for shows/movies in most genres. Hulu, Netflix, and Prime Video have the highest average IMDb ratings in only 7 of the genres. This makes sense given that Disney+ has a very selective catalog of shows/movies that have only been produced by Disney and are generally very high quality; the other platforms have content from many different sources, and that content is likely more variable in terms of quality. In addition, Disney has very loyal fans, so they probably write many IMDb reviews, boosting up the ratings of its content. For most of the genres, the differences between IMDb ratings are quite small between the platforms, so it is worth looking at multiple if you are not a Disney fan or have already seen most of the Disney movies. 

**The best platform to use for different genres (based on average IMDb rating):**

**Disney+:**

* Action
* Adventure
* Animation
* Biography
* Comedy
* Drama
* Family
* Fantasy
* Game-Show
* History
* Horror
* Musical
* Mystery
* News
* Reality-TV
* Romance
* Sci-Fi
* Short
* Talk-Show
* Thriller

**Hulu:**

* Crime
* Sport
* Western

**Netflix:**

* Music
* War

**Prime Video:**

* Documentary
* Film-Noir

*Limitations:*

This bar chart should be quite useful for people who enjoy a specific genre of movie/show and are deciding between which streaming platform to buy or browse, but there are some important things to note. The data used for the bar chart does not include all movies/shows on each streaming platform, so the IMDb scores may not be fully accurate, and, since the differences in scores are quite small between the platforms, the addition of all movies/shows on each platform may change the main results. Also, the bar chart doesn’t include other streaming platforms like Apple TV+ or HBO, and it doesn’t account for the fact that Netflix’s library may be much larger than Disney’s, which may influence someone’s decision making. It should be noted as well that the streaming platforms update their content libraries frequently, which would affect these average IMDb ratings. 

## Table

*Findings:*

The main interactive features of the table are the two-sided slider input, of which there are three: one for the year in which the movie came out, one for the Netflix rating, and one for the IMDb rating. Utilizing these features, the user can create a variety of sets of movies that will be displayed in the table based on the specified values. For example, if the “Years:” slider is set to 2021 and the IMDb ratings are arranged in descending order, we see that the movie with the highest IMDb rating in 2021 was “In Our Mother’s Garden” (2021, IMDb: 8.9, Rotten Tomatoes: 54, Netflix). Or, setting the “Years” slider to the range between 1991 and 2008, only consider titles with an IMDb score greater than or equal to 5, and arrange Rotten Tomatoes scores by ascending order, we see the movie with the lowest Rotten Tomatoes score is “Clay” (2008, IMDb: 5.5,  Rotten Tomatoes: 29, Prime Video). 

The table displays information on some of the more important aspects we may wish to compare about different titles, which means that this “Findings” section could go on for quite a bit. In essence, the results of the table can be anything given the input parameters and varied and dense in nature. There is a large quantity of data included in this table, and the takeaway is up to the interpretation of the user. 

*Limitations:*

The main limitation of the table comes from the lack of a checkbox feature in our table. While it does not take away from the purport of the table, it definitely leads to the display of more information than the user may have wanted. As of now, the “Services” column of the table displays each service and each combination of services separately. We initially intended to include a checkbox feature that splits the four streaming services, so that the user can specify which service or services they want to see movies from. However, this required numerous changes in the data wrangling stage; ultimately, we decided that our table still displays the most important information and did not add the checkbox feature. The main issue that arises due to our omitting this feature is that the user is much more likely to miss the combination of services that a movie can be found on. This is a feature that we hope to add to the table in the future to better streamline our display of such rich information. 


# Network of Actors

```{r figure2 data wrangling, eval = FALSE, include= FALSE}
# Some preliminary data wrangling that builds off of what has already been done, but formats specific to use for making network

# read in csv files
final3 <- read_csv("data/final3.csv")
final4 <- read_csv("data/final4.csv")

# create a table of crossproducts between actors by movie
final5 <- final4 %>%
  select(title, people) %>%
  table() %>%
  crossprod() 

# set diagonal crossproducts (each actor working with themself) equal to 0, and make a new dataframe. 
diag(final5) <- 0
df <- as.data.frame(final5)

# left join to put the information in final3 along with all other variables in final2
final3 <- final3 %>%
  left_join(final2, by = "people") 
final3 <- final3 %>% 
  select(people, role, n) %>% 
  unique()

# get rid of duplicate names
# final3 <- final3[-c(15, 17, 30, 35, 40, 42, 44, 48, 78, 89, 94, 99, 109, 119, 141, 153, 157, 160, 168, 173, 178, 209, 210, 214, 217), ]

# create dataframes for igraph
ve <- final3
ed <- df %>%
  mutate(from = rownames(.)) %>%
  tidyr::gather(to, weight, 1:nrow(final5)) %>%
  mutate(weight = ifelse(weight == 0, NA, weight)) %>% 
  filter(from %in% final3$people) %>% 
  filter(to %in% final3$people)

# start creating igraph
people_igraph <- graph_from_data_frame(d = ed, 
                                       vertices = ve,
                                       directed = FALSE) %>%
  simplify()

```

```{r, include = FALSE}
# Read in network dataset
people_network <- read_csv(file = 'people_network.csv')
```

```{r figure2 network}

# visualization
ggplot(data = people_network, aes(x = x, y = y, 
                                  xend = xend, yend = yend)) +
  geom_edges(aes(size = weight), color = "lightgrey", curvature = 0.1, ) +
  geom_nodes(aes(size = n), color = "purple") +
  geom_nodetext_repel(aes(label = name)) +
  theme_blank() +
  labs(caption = "Actor Relationships")
```

*Procedure:*

The purpose of the network visualization was to exhibit the connections between individuals who had worked on a variety of Netflix titles together; it provides information on the magnitude of common projects, and from the network we can extrapolate whether there are any high profile collaborations amongst artists across countries. 

To create the visualization, a bit of data wrangling was performed on the original dataset from Kaggle that included thousands of Netflix titles. From this original dataset, two dataframes were created: one that included the names and roles of the 20 actors that worked on the greatest number of projects which served as the vertices dataframe, and a cross-product matrix was created to form the basis of the edges dataframe. In the final visualization, dots are labeled with the name of the individual, and the thickness of the edge between any two nodes represents the number of projects that the two individuals have worked on together. 

*Findings:*

From the visualization, we see that actors like Boman Irani and Kareena Kapoor have worked with a large variety of actors across their projects (as there are a good number of edges that extend from these nodes), while other actors like Jigna Bhardwaj and Julie Tejwani that have not worked with as high a variety of other actors but have worked on a great number of projects with a small group. Three nodes does not have any edges; John Cleese, Samuel L. Jackson and Fred Tatasciore, who have both worked on a very high number of Netflix films but none in common with the other popular Netflix actors. This may be explained by the fact that except for John Cleese, Andrea Libman, Vincent Tong, Fred Tatasciore, Samuel L. Jackson, Yuki Kaji, and Takahiro Sakurai, all other actors in the diagram are Indian. Not only do Indian actors act in a large number of Netflix films - or, not only do Indian films comprise a large amount of Netflix films - the same Indian actors seem to have worked together on many films. There is also little cross connection between actors working in different countries - while such cross connection may exist, the network shows that it is not as common an occurrence amongst the most sought-after actors on Netflix. 

*Limitations:*

Though the network is a very useful visualization and offers a variety of information, it still has its limitations. One such limitation is in its display of color. The original idea of the network was to color nodes based on whether the individual in question was an actor or director. However, since the individuals that worked on the greatest number of films were all actors, this distinction was unable to be brought forth. A more useful method to color the nodes would have been by country; this would have required a complete reconstruction of the data wrangling process and it was ultimately decided that this information would be redundant as a geographical visualization would also be displayed separately. It is ultimately still a drawback of the network (as the network does not display information to its potential), but it is something to keep in mind for a future visualization of this data. 

Additionally, a network becomes difficult to read if too many observations are included (which is why only the actors working in the highest number of films are included). This is especially limiting in this situation as the dataset included a high volume of observations, most of which could not be included in order to keep the visualization concise and decipherable. There is a lot more to be offered by the dataset and in theory could be presented through the network, but would ultimately take away from the purpose of the visualization itself. 


# Wordcloud of Movie/Show Descriptions {.tabset .tabset-fade .tabset-pills}

```{r Load Data Wordcloud, include = FALSE}
desc_frequencies <- read_csv("data/wordcloud.csv")
d_words <- read_csv("data/d_words.csv")
```

## Wordcloud 

```{r Wordcloud Output, echo = FALSE}
# Word cloud will rearrange each time unless seed is set
set.seed(53)

# choose color palette from color brewer
mypal <- brewer.pal(10, "Paired")

wordcloud(words = desc_frequencies$word, 
          freq = desc_frequencies$n,
          min.freq = 20,
          max.words = 100,
          # plot the words in a random order
          random.order = FALSE,
          # specify the range of the size of the words
          scale = c(4, 0.25),
          # specify proportion of words with 90 degree rotation
          rot.per = 0.15,
          # colors words from least to most frequent
          colors = mypal,
          # font family
          family = "sans")

```

```{r top-words-plot, fig.width = 5, fig.height = 3.2, include = FALSE}
d <- d_words %>%
  count(word, sort = TRUE) %>% 
  slice(1:10) %>%
  ggplot(aes(x = reorder(word, n), y = n, 
             color = word, fill = word)) +
  geom_col() +
  coord_flip() +
  guides(color = "none", fill = "none") +
  labs(x = NULL,
       y = "Number of instances",
       title = "The most common words in Netflix descriptions")
```

## Top 10 Words 

```{r Plot Output, echo = FALSE, fig.width = 7.5}
ggplotly(d, tooltip = "n")
```

# {-}

*Findings:*

Our word cloud was created from a desire to explore the most prevalent keywords across all Netflix descriptions. As for the code, the word cloud was incredibly simple. Using the Kaggle data table, the wrangling merely consisted of isolating each word of the description and removing all stop words. This word cloud consists of the top 100 most frequent words, with the condition that the word must occur at least 20 times. The words are also ordered with most frequent in the middle and least frequent on the outside. The size and color of the words are proportional to their frequency. The color of the words are associated with their abundance, going from cool to warm colors. Cool colors such as light blues and greens are also the smallest on the outskirts of the circle, meaning they occur lest frequently than the words in warmer colors such as dark green, red, yellow, orange, and finally, purple. Accompanying the `wordcloud` is a `ggplotly` table with the top 10 most common words in all Netflix descriptions, ordered by the number of instances, n. I find it interesting how much of an outlier the most frequent word, "life," is when compared to the other nine. The word “life” appeared 833 times, while the other nine most common words occurred between 300 and 500 times. The top six words seem to have very lighthearted, positive connotations: life, family, world, love, woman, and friends. Based on the frequency plot, it appears that Netflix series were slightly more abundant than Netflix documentaries. However, the major limitation to this word cloud is the lack of context.

*Limitations:*

The main limit to this word cloud is the lack of context. It is impossible to decipher exactly why these words are the most frequent. For example, while “life” is written over 830 times, I am unsure what it refers to. Does it refer to life, meaning lively and energetic, or does it refer to the state of being, such as the life of the protagonist? I am hesitant to make strong conclusions or inferences about the content on Netflix. At first glance, the most frequent words "love," "life," "friends," and "family" appear to have optimistic, feel-good undertones when compared to words like "murder," "death," and "crime" that rank 25, 26, and 31, respectively. But again, the context is lacking unless I decide sift through every 8,807 descriptions in the database, a task far too tedious. Additionally, some of these words may appear many times in one description, or these keywords may be very abundant in specific genres. These words may not be an accurate representation of what most of the movies are about, but instead, a representation of a few, concentrated descriptions that repeat these words many times. 

# Conclusion

```{r}
knitr::include_graphics("https://www.howtogeek.com/wp-content/uploads/2020/09/Are-You-Still-Watching-Netflix.jpg?height=200p&trim=2,2,2,2")
```

Overall, our visualizations displayed the diversity and scale of Netflix as a truly global streaming service with content and subscribers from around the World. In addition, they gave users the power to find content on Netflix they would be interested in and compare different platforms to subscribe to. The word cloud and network visualizations displayed the some of the key actors/actor combinations and words that Netflix uses for its content, likely because they attract more subscribers. 

More specifically, it is apparent that the United States both produces the most content and has the largest number of subscribers on Netflix when compared to other countries in the data set. This makes sense considering that Netflix is, after all, an American streaming company with headquarters in California. Looking at the Content Location Map as well as the Subscribers Map, the colors for countries on each map are fairly similar, indicating some association. Since we used two different databases and didn’t run statistical tests on these variables, it is hard to conclude for certain if these two variables are correlated. Nonetheless, it very interesting to see this similarity on the maps. Next, while India produced about a third of the films that the U.S. produced, our network is dominated with Indian actors. There are far more edges and collaborations with Indian actors than with American or Japanese actors who were also vertices on the network. Additionally, there appears very few, if any, cross-country collaboration of actors. Finally, when considering and comparing various streaming platforms, it is quite evident that Disney+ dominates in highest-ranking (IMDb) shows/movies in nearly every genre. Our blog is not a complete picture of global Netflix trends; there are gaps in the geographical data and limits to all of our findings. More importantly, we hope that the graphical representations and customizable table searches can serve as effective tools for gaining some understanding into geographical and inter-platform data.

# Bibliography

Datasets

* [Netflix Shows](https://www.kaggle.com/shivamb/netflix-shows)
 
* [Shows on Multiple Platforms](https://www.kaggle.com/ruchi798/movies-on-netflix-prime-video-hulu-and-disney)

* [Netflix Revenue and Subscribers](https://www.comparitech.com/tv-streaming/netflix-subscribers/)

* [Google trends](https://trends.google.com/trends/?geo=US)

Main Packages

* `ggplot`
* `plotly`
* `ggnetwork`
* `wordcloud`
* `igraph`
* `tidyverse`



